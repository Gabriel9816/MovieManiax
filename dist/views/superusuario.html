<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/source/css/SuperUser.css">
    <title>Popular</title>
</head>

<body class="body-visualizacao">
    ody class="body-visualizacao">
    <header class="header">
        <div class="img">
            <img class="logo" src="/source/img/MovieManiax logo.png" alt="logo">
        </div>
        <div class="search-box">
            <input class="search-txt" type="text">
            <i class="bx bx-search"></i>
        </div>
        <div class="links">
            <a class="l01" href="/">Adicionar</a>
            <a class="l02" href="/">Excluir</a>

        </div>
        <div class="icones">
            <a class="icon2" href="/sair">
                <i id="icon" class='bx bx-log-out'></i>
            </a>
        </div>
    </header>
    <div class="icones2">
        <label class="submit-imagem-fundo" for="imagem">
            <img class="imagem-fundo" src="/source/img/icone-add-image.png">
            <input type="file" name="imagem" id="imagem-fundo" accept="image/*">
        </label>
    </div>
    <div class="add">
        <label class="submit-imagem-filme" for="imagem">
            <img class="imagem-filme" src="/source/img/icone-add.png">
            <input type="file" name="imagem" id="imagem-filme" accept="image/*">
        </label>

        <textarea class="texto" name="Titulo Filme" rows="4" required></textarea>

        <img class="avaliacao" src="/source/img/stars.png">

        <textarea class="texto-grande" name="Resumo Filme" rows="4" required></textarea>
        <div class="add-data">
            <input class="ano" type="date">
            <input class="horas" type="time">
            <button class="abre-popup" onclick="openGenrePopup()">Escolher Gêneros</button>
            <div id="generos-selecionados"></div>
        </div>

        <div id="blur-background" class="blur-background"></div>

        <div id="genero-popup" class="popup">
            <select class="genero1" id="genero-select" class="genero">
                <option> Ação</option>
                <option>Fantasia</option>
                <option>Comédia</option>
                <option>Drama</option>
                <option>Romance</option>
                <option>Documentário</option>
                <option>Suspense</option>
                <option>Terror</option>
                <option>Ficção Científica</option>
                <option>Aventura</option>
            </select>

            <select class="genero2" id="genero-select" class="genero">
                <option> Ação</option>
                <option>Fantasia</option>
                <option>Comédia</option>
                <option>Drama</option>
                <option>Romance</option>
                <option>Documentário</option>
                <option>Suspense</option>
                <option>Terror</option>
                <option>Ficção Científica</option>
                <option>Aventura</option>
            </select>
            <button onclick="applyGenres()">Salvar</button>
        </div>
    </div>

    <script>
        function openGenrePopup() {
            document.getElementById('blur-background').style.display = 'block';
            document.getElementById('genero-popup').style.display = 'grid';
        }

        function closeGenrePopup() {
            document.getElementById('blur-background').style.display = 'none';
            document.getElementById('genero-popup').style.display = 'none';
        }

        function applyGenres() {
            const selecionado1 = document.querySelector(".genero1").value
            const selecionado2 = document.querySelector(".genero2").value

            const selectedGenresDiv = document.getElementById('generos-selecionados');
            selectedGenresDiv.style.display = "flex";
            selectedGenresDiv.style.cursor = "context-menu";
            if (selecionado1 !== selecionado2) {
                selectedGenresDiv.innerHTML = `${selecionado1}, ${selecionado2}`;
            } else {
                selectedGenresDiv.innerHTML = `${selecionado1}`;
            }
            closeGenrePopup();
        }
    </script>
</body>

</html>